<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Missing values | 04-missing.utf8</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Missing values | 04-missing.utf8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Missing values | 04-missing.utf8" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  


<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EDAV Group 11 Final Project</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path=""><a href="#missing-values"><i class="fa fa-check"></i><b>1</b> Missing values</a>
<ul>
<li class="chapter" data-level="1.1" data-path=""><a href="#checking-missing-value"><i class="fa fa-check"></i><b>1.1</b> Checking missing value</a></li>
<li class="chapter" data-level="1.2" data-path=""><a href="#fixing-the-na-in-dataset"><i class="fa fa-check"></i><b>1.2</b> Fixing the NA in dataset</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--bookdown:title:end-->
<!--bookdown:title:start-->
<div id="missing-values" class="section level1" number="1">
<h1><span class="header-section-number">Chapter 1</span> Missing values</h1>
<div id="checking-missing-value" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Checking missing value</h2>
<p>We want to check if there is any missing value in our covid_state and confirmed_d3 data set.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>covid_state =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;covid_state&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>covid_state[<span class="kw">which</span>(<span class="kw">is.na</span>(covid_state<span class="op">$</span><span class="st">`</span><span class="dt">Biden Support Rate</span><span class="st">`</span>)),]</span></code></pre></div>
<pre><code>##  [1] state               confirmed_Nov_30    death_Nov_30       
##  [4] population          confirmed_rate      death_rate         
##  [7] Biden               Trump               Biden Support Rate 
## [10] Support Which Party 2014               
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>confirmed_d3 =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;confirmed_d3&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>confirmed_d3[<span class="kw">which</span>(<span class="kw">is.na</span>(confirmed_d3<span class="op">$</span><span class="st">`</span><span class="dt">Biden Support Rate</span><span class="st">`</span>)),]</span></code></pre></div>
<pre><code>##  [1] state               confirmed_Nov_30    confirmed_Sep_30   
##  [4] confirmed_July_30   confirmed_May_30    confirmed_Mar_30   
##  [7] population          Nov_rate            Sep_rate           
## [10] July_rate           May_rate            March_rate         
## [13] Biden               Trump               Biden Support Rate 
## [16] Support Which Party 2014               
## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
<p>We can find that Alaska and D.C have NA value for <code>support biden rate</code> variable. The county name for election data in D.C and Alaska are different from the covid_19 data. So we might loosing data when merging them together.</p>
</div>
<div id="fixing-the-na-in-dataset" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Fixing the NA in dataset</h2>
<p>Because we want to know the election status for each state without any NA, we decide to calculate the support rate for Alaska and D.C by adding the data in election.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>election =<span class="st"> </span><span class="kw">readRDS</span>(<span class="st">&quot;election&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>Alaska_Biden =<span class="st"> </span><span class="kw">sum</span>(election[election<span class="op">$</span>state <span class="op">==</span><span class="st">&quot;Alaska&quot;</span>,]<span class="op">$</span>Biden)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>Alaska_Trump =<span class="st"> </span><span class="kw">sum</span>(election[election<span class="op">$</span>state <span class="op">==</span><span class="st">&quot;Alaska&quot;</span>,]<span class="op">$</span>Trump)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>DC_Biden =<span class="st"> </span><span class="kw">sum</span>(election[election<span class="op">$</span>state <span class="op">==</span><span class="st">&quot;District Of Columbia&quot;</span>,]<span class="op">$</span>Biden)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>DC_Trump =<span class="st"> </span><span class="kw">sum</span>(election[election<span class="op">$</span>state <span class="op">==</span><span class="st">&quot;District Of Columbia&quot;</span>,]<span class="op">$</span>Trump)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>covid_state[<span class="dv">2</span>,<span class="dv">7</span>] =<span class="st"> </span>Alaska_Biden</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a>covid_state[<span class="dv">2</span>,<span class="dv">8</span>] =<span class="st"> </span>Alaska_Trump</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a>covid_state[<span class="dv">2</span>,<span class="dv">9</span>] =<span class="st"> </span>Alaska_Biden<span class="op">/</span>(Alaska_Biden<span class="op">+</span>Alaska_Trump)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a>covid_state[<span class="dv">2</span>,<span class="dv">10</span>] =<span class="st"> </span><span class="kw">case_when</span>(covid_state[<span class="dv">2</span>,<span class="dv">9</span>] <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Democratic&quot;</span>, </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true"></a>                              covid_state[<span class="dv">2</span>,<span class="dv">9</span>]<span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Republican&quot;</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true"></a>covid_state[<span class="dv">9</span>,<span class="dv">7</span>] =<span class="st"> </span>DC_Biden</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true"></a>covid_state[<span class="dv">9</span>,<span class="dv">8</span>] =<span class="st"> </span>DC_Trump</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true"></a>covid_state[<span class="dv">9</span>,<span class="dv">9</span>] =<span class="st"> </span>DC_Biden<span class="op">/</span>(DC_Biden<span class="op">+</span>DC_Trump)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true"></a>covid_state[<span class="dv">9</span>,<span class="dv">10</span>] =<span class="st"> </span><span class="kw">case_when</span>(covid_state[<span class="dv">9</span>,<span class="dv">9</span>] <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Democratic&quot;</span>, </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true"></a>                              covid_state[<span class="dv">9</span>,<span class="dv">9</span>]<span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Republican&quot;</span>)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true"></a><span class="kw">head</span>(covid_state)</span></code></pre></div>
<pre><code>##        state confirmed_Nov_30 death_Nov_30 population confirmed_rate
## 1    Alabama           249524         3578    4903185     0.05089019
## 2     Alaska            32418          121     731545     0.04431443
## 3    Arizona           326817         6639    7278717     0.04490036
## 4   Arkansas           154865         2502    3017804     0.05131712
## 5 California          1230264        19173   39512223     0.03113629
## 6   Colorado           232878         3037    5758736     0.04043908
##    death_rate    Biden   Trump Biden Support Rate Support Which Party  2014
## 1 0.014339302   849648 1441168          0.3708932          Republican  7281
## 2 0.003732494   153405  189892          0.4468580          Republican 11064
## 3 0.020314121  1672143 1661686          0.5015683          Democratic  6452
## 4 0.016156007   420328  757405          0.3568958          Republican  7408
## 5 0.015584460 11109764 6005961          0.6490969          Democratic  7549
## 6 0.013041163  1804352 1364607          0.5693832          Democratic  6804</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>confirmed_d3[<span class="dv">2</span>,<span class="dv">13</span>] =<span class="st"> </span>Alaska_Biden</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a>confirmed_d3[<span class="dv">2</span>,<span class="dv">14</span>] =<span class="st"> </span>Alaska_Trump</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>confirmed_d3[<span class="dv">2</span>,<span class="dv">15</span>] =<span class="st"> </span>Alaska_Biden<span class="op">/</span>(Alaska_Biden<span class="op">+</span>Alaska_Trump)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a>confirmed_d3[<span class="dv">2</span>,<span class="dv">16</span>] =<span class="st"> </span><span class="kw">case_when</span>(confirmed_d3[<span class="dv">2</span>,<span class="dv">15</span>] <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Democratic&quot;</span>, </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true"></a>                              confirmed_d3[<span class="dv">2</span>,<span class="dv">15</span>]<span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Republican&quot;</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true"></a>confirmed_d3[<span class="dv">9</span>,<span class="dv">13</span>] =<span class="st"> </span>DC_Biden</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true"></a>confirmed_d3[<span class="dv">9</span>,<span class="dv">14</span>] =<span class="st"> </span>DC_Trump</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true"></a>confirmed_d3[<span class="dv">9</span>,<span class="dv">15</span>] =<span class="st"> </span>DC_Biden<span class="op">/</span>(DC_Biden<span class="op">+</span>DC_Trump)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true"></a>confirmed_d3[<span class="dv">9</span>,<span class="dv">16</span>] =<span class="st"> </span><span class="kw">case_when</span>(confirmed_d3[<span class="dv">9</span>,<span class="dv">15</span>] <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Democratic&quot;</span>, </span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true"></a>                              confirmed_d3[<span class="dv">9</span>,<span class="dv">15</span>]<span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span> <span class="op">~</span><span class="st"> &quot;Republican&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="kw">saveRDS</span>(covid_state,<span class="dt">file =</span> <span class="st">&quot;covid_state&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a><span class="kw">saveRDS</span>(confirmed_d3,<span class="dt">file =</span> <span class="st">&quot;confirmed_d3&quot;</span>)</span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>


    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/JessieYee/EDAV_Covid19_Research/edit/main/%s",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/JessieYee/EDAV_Covid19_Research/blob/main/%s",
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
},
"search": false
});
});
</script>

</body>

</html>
